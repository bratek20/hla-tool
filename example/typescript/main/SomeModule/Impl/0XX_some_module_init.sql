-- Autogenerated by HLA tool

CREATE TABLE some_dimension (
    some_dimension_id BIGINT DEFAULT NEXTVAL('common.the_sequence'::regclass) CONSTRAINT some_dimension_id PRIMARY KEY,
    name VARCHAR(256) NOT NULL,
    amount INTEGER NOT NULL,
    date_range jsonb NOT NULL,
    dimensions_list VARCHAR(256) NOT NULL
);

CREATE TABLE some_dimension_with_primitives (
    some_dimension_with_primitives_id BIGINT DEFAULT NEXTVAL('common.the_sequence'::regclass) CONSTRAINT some_dimension_with_primitives_id PRIMARY KEY,
    some_string VARCHAR(256) NOT NULL,
    some_int INTEGER NOT NULL,
    some_long BIGINT NOT NULL,
    some_double DOUBLE PRECISION NOT NULL,
    some_bool BOOLEAN NOT NULL
);

CREATE TABLE some_dimension_with_enum (
    some_dimension_with_enum_id BIGINT DEFAULT NEXTVAL('common.the_sequence'::regclass) CONSTRAINT some_dimension_with_enum_id PRIMARY KEY,
    enum_string VARCHAR(64) NOT NULL
);

CREATE TABLE some_tracking_event (
    CONSTRAINT some_tracking_event_id PRIMARY KEY (event_id),
    optional_int_exposed INTEGER,
    some_dimension_id BIGINT NOT NULL,
    optional_generic_tracking_dimension_id BIGINT,
    optional_int INTEGER,
    dimensions_list VARCHAR(256) NOT NULL
) INHERITS (event);
ALTER TYPE event_type ADD VALUE 'some_tracking_event';

CREATE TABLE some_tracking_mevent (
    CONSTRAINT some_tracking_mevent_id PRIMARY KEY (mevent_id),
) INHERITS (mevent);
ALTER TYPE mevent_type ADD VALUE 'some_tracking_mevent';